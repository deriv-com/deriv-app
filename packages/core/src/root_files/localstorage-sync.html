<!DOCTYPE html>
<html>
    <head>
        <title>Deriv</title>
        <meta charset="utf-8" />
        <meta name="referrer" content="origin" />
        <script>
            window.addEventListener('message', function (message) {
                let domain_url = '';
                if (window.location.hostname.indexOf('deriv.me') > -1) {
                    domain_url = 'deriv.me';
                } else if (window.location.hostname.indexOf('deriv.be') > -1) {
                    domain_url = 'deriv.be';
                } else {
                    domain_url = 'deriv.com';
                }
                var allowed_origins = [
                    `https://smarttrader.${domain_url}`,
                    `https://staging-smarttrader.${domain_url}`,
                    `https://bot.${domain_url}`,
                    `https://staging-bot.deriv.com`,
                    `https://p2p.${domain_url}`,
                    `https://staging-p2p.${domain_url}`,
                    `https://staging-hub.${domain_url}`,
                    `https://hub.${domain_url}`,
                ];
                if (allowed_origins.includes(message.origin)) {
                    switch (message.data.key) {
                        case 'active_loginid':
                        case 'client.accounts': {
                            if (localStorage.getItem(message.data.key) !== message.data.value) {
                                localStorage.setItem(message.data.key, message.data.value);
                            }
                            break;
                        }
                    }
                }
            });
        </script>
    </head>

    <body></body>
</html>
